version: 2

models:
  - name: dim_sellers
    description: "Seller dimension table, providing a 360-degree view of each seller's performance across revenue, customer satisfaction, and operational efficiency."
    
    columns:
      - name: seller_id
        description: "The unique identifier for a seller. This is the primary key for this model."
        tests:
          - unique
          - not_null

      - name: total_revenue
        description: "The total revenue generated by the seller from all their sold items (sum of price)."
        tests:
          - dbt_expectations.expect_column_values_to_be_non_negative

      - name: total_orders
        description: "The total number of distinct orders the seller has received."
        tests:
          - dbt_expectations.expect_column_values_to_be_non_negative

      - name: total_items_sold
        description: "The total number of items the seller has sold across all orders."
        tests:
          - dbt_expectations.expect_column_values_to_be_non_negative

      - name: average_review_score
        description: "The average review score received by the seller across all their orders."
        tests:
          - dbt_expectations.expect_column_values_to_be_between:
              min_value: 1
              max_value: 5
              # We allow NULLs because some sellers may not have any reviews yet.
              config:
                severity: warn

      - name: avg_hours_to_ship
        description: "The average time in hours from order approval to carrier handover. A key operational metric."
        tests:
          - dbt_expectations.expect_column_values_to_be_non_negative:
              config:
                severity: warn
